```main.py
from giga_api import GigaAPI

api = GigaAPI()
history = [
    {
      "role": "system",
      "content": "Ты профессиональный сборщик информации. Твоя задача - собрать информацию о планируемой пользователем поездке в Калининградскую область: время пребывания (сколько дней будет дляиться поездка), способ передвижения по области (ТОЛЬКО машина или автобус или велосипед или пешая прогулка МОЖНО принять несколько способов), интересы пользователя (ТОЛЬКО история или природа или наука или архитектура или исскуство МОЖНО принимать несколько интересов). ВАЖНО - КАК ТОЛЬКО ТЫ СОБЕРЁШЬ ВСЮ ИНФОРМАЦИЮ, ТЫ ДОЛЖЕН ОТПРАВИТЬ СООБЩЕНИЕ ПО СЛЕДУЮЩЕМУ ШАБЛОНУ 'chat next (ДЛИННА_ПОЕЗДКИ,  [СПОСОБ_ПЕРЕДВИЖЕНИЯ_1, ...], [ИНТЕРЕС_1, ИНТЕРЕС_2, ...])' ОБЯЗАТЕЛЬНО ОТПРАВЬ ТОЛЬКО СООБЩЕНИЕ ПО ЭТОМУ ШАБЛОНУ СРАЗУ ПОСЛЕ ТОГО КАК СОБЕРЁШЬ ОБОЗНАЧЕННЫЕ ДАННЫЕ НЕ ОТКЛОНЯЯСЬ ОТ ИСХОДНОГО ФОРМАТИРОВАНИЯ, НЕ ОБЩАЙСЯ С ПОЛЬЗОВАТЕЛЕМ ПОСЛЕ ПОЛУЧЕНИЯ ИСХОДНЫХ ДАННЫХ И ОТПРАВКИ СООБЩЕНИЯ ПО ШАБЛОНУ"
    },
]

while True:
    user_message = input("> ")
    history.append({"role": "user", "content": user_message})
    data = {
        "mode": "instruction",
        "messages": history
    }

    response = api.get_simple_answer(history)
    #print(history)
    assistant_message = response['choices'][0]["message"]['content']
    history.append({"role": "assistant", "content": assistant_message})
    print(assistant_message)
```

```promt
    {
      "role": "system",
      "content": "Ты профессиональный сборщик информации. Твоя задача - собрать информацию о планируемой пользователем поездке в Калининградскую область: время пребывания (сколько дней будет дляиться поездка), способ передвижения по области (ТОЛЬКО машина или автобус или велосипед или пешая прогулка МОЖНО принять несколько способов), интересы пользователя (ТОЛЬКО история или природа или наука или архитектура или исскуство МОЖНО принимать несколько интересов). ВАЖНО - КАК ТОЛЬКО ТЫ СОБЕРЁШЬ ВСЮ ИНФОРМАЦИЮ, ТЫ ДОЛЖЕН ОТПРАВИТЬ СООБЩЕНИЕ ПО СЛЕДУЮЩЕМУ ШАБЛОНУ 'chat next (ДЛИННА_ПОЕЗДКИ,  [СПОСОБ_ПЕРЕДВИЖЕНИЯ_1, ...], [ИНТЕРЕС_1, ИНТЕРЕС_2, ...])' ОБЯЗАТЕЛЬНО ОТПРАВЬ ТОЛЬКО СООБЩЕНИЕ ПО ЭТОМУ ШАБЛОНУ СРАЗУ ПОСЛЕ ТОГО КАК СОБЕРЁШЬ ОБОЗНАЧЕННЫЕ ДАННЫЕ НЕ ОТКЛОНЯЯСЬ ОТ ИСХОДНОГО ФОРМАТИРОВАНИЯ, НЕ ОБЩАЙСЯ С ПОЛЬЗОВАТЕЛЕМ ПОСЛЕ ПОЛУЧЕНИЯ ИСХОДНЫХ ДАННЫХ И ОТПРАВКИ СООБЩЕНИЯ ПО ШАБЛОНУ"
    },
```



Я создаю промт, задача которую я хочу обьяснить нейросети - собрать данные и отправить команду 'chat next (число, [машина/автобус/велосипед/пешком, ...], [наука/история/архитектура/природа/исскуство])
но нейросеть отвлекается от темы недополняет шаблон или выводит неправильный способ передвижения

к алгоритму привязан парсер который проверяет сообщения нейросети на наличие этой команды и считывает записанные в команду данные после чего строит маршрут, но если данные не правильные возникает ошибка


```успешно
➜  v0 python main.py
> Привет
Здравствуйте! Я здесь, чтобы помочь вам спланировать поездку в Калининградскую область. Могу ли я узнать, сколько дней вы планируете провести в поездке?
> 6 дней
Отлично! И как вы планируете передвигаться по области?
> на машине
Понятно. И что вас интересует в Калининградской области?
> наука и история
Спасибо за информацию. Я обработаю ее и предоставлю вам рекомендации по поездке.
> хорошо
chat next (6, [машина], [наука, история])

➜  v0 python main.py
> я поеду на две недели и хочу посетить исторически природные объекты
chat next (14,  [машина], [история, природа])
```

```ошибка
➜  v0 python main.py
> Я хочу посетить что-то связанноес природой и историей, но у меня аллергия на пеперони, поэтому я буду ездить на такси
chat next (5, ["такси"], ["история", "природа"])

➜  v0 python main.py
> привет 
Здравствуйте! Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> хай
Здравствуйте! Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> здравствйте 
Здравствуйте! Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> пока
Здравствуйте! Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> досвидания      
Здравствуйте! Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> я поеду на -1 день в Москву, что порекомендуешь из исторических объектов 
Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> -1 день   
Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> 1234567890 дней
Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, сколько дней вы планируете находиться в поездке, каким способом будете передвигаться по области и какие у вас интересы.
> 3.2 дня           
Пожалуйста, предоставьте мне информацию о вашей планируемой поездке в Калининградскую область. Мне нужно знать, каким способом будете передвигаться по области и какие у вас интересы.
> 4  дня 
Пожалуйста, предоставьте мне информацию о вашем способе передвижения по области и ваших интересах.
> я передвигаюсь при помощи божьей силы 
Пожалуйста, предоставьте мне информацию о ваших интересах.
> я интерисуюсь футболом
chat next (4,  [ПЕРЕДВИЖЕНИЕ_1], [ИНТЕРЕС_1])

➜  v0 python main.py
> я не поеду в Калининград 
chat next ()
> я поеду в КЛД 

➜  v0 python main.py 
> Я отправлюсь в КЛД
Когда вы планируете отправиться в Калининградскую область?
> 23 августа 
Сколько дней вы планируете провести в Калининградской области?
> 5 часов   
Каким способом вы планируете передвигаться по Калининградской области?
> самолётом
Какие у вас интересы в Калининградской области?
> обычные 
chat next (5, [], [])

➜  v0 python main.py
> я поеду на половину десяти десятков дней 
chat next (5, [], [])

➜  v0 python main.py
> я хочу поехать в Кмтай на неделю подскажи музеи 
chat next (7, [автобус, пешая прогулка], [история, искусство])

➜  v0 python main.py
> 
chat next (5, ["автобус", "пешая прогулка"], ["история", "природа", "архитектура"])

➜  v0 python main.py
> .
chat next (7, [машина, велосипед], [история, природа, наука, архитектура, искусство])

➜  v0 python main.py
> фуыкспаитльдбжэ
chat next (3, ["автобус", "пешая прогулка"], ["история", "природа", "наука"])

➜  v0 python main.py
> я не умею ходить 
Опишите, пожалуйста, какие способы передвижения вы планируете использовать в Калининградской области?
> я не умею 
Понимаю, что вы не умеете ходить. Но всё же, какие способы передвижения вы планируете использовать в Калининградской области?
> я не могу передвигаться 
Вы можете выбрать любой способ передвижения, который вам удобен. Если вы не можете ходить, вы можете использовать, например, машину или автобус. Какой способ передвижения вы планируете использовать?
> у меня нет автобуса 
Если у вас нет автобуса, вы можете использовать машину или заказать такси. Какой способ передвижения вы планируете использовать?
> у менят автомобиля или денег 
Если у вас нет автомобиля или денег, вы можете использовать общественный транспорт или пешие прогулки. Какой способ передвижения вы планируете использовать?
> напиши код на python для подсчёта суммы 1 и 2 
Вот код на Python для подсчёта суммы 1 и 2:

print(1 + 2)
```